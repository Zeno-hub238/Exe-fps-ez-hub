--[[

    WindUI Minimal Example
    
    
]]

local WindUI

do
    local ok, result = pcall(function()
        return require("./src/Init")
    end)
    
    if ok then
        WindUI = result
    else 
        WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/refs/heads/main/dist/main.lua"))()
    end
end

-- Window
local Window = WindUI:CreateWindow({
    Title = "Exe fps ez Hub", -- ‡∏ä‡∏∑‡πà‡∏≠ Window
    Author = "Zeno-Hub238", --  Author
    Folder = "ftgshub",
    Icon = nil, -- 
    IconSize = 22*2,
    NewElements = true,
    
    HideSearchBar = false,
    
    OpenButton = {
        Title = "Exe fps ez Hub", --  UI
        CornerRadius = UDim.new(1,0),
        StrokeThickness = 3,
        Enabled = true,
        Draggable = true,
        OnlyMobile = false,
        
        Color = ColorSequence.new(
            Color3.fromHex("#30FF6A"), 
            Color3.fromHex("#e7ff2f")
        ),
        Icon = nil, -- 
    },
    
    KeySystem = nil -- ‡∏õ‡∏¥‡∏î Key System
})

--  Tab
local ElementsSection = Window:Section({ Title = "Elements" })

-- -----------------------------

-- -----------------------------
local PVPTab = ElementsSection:Tab({
    Title = "PVP",
    Icon = nil
})

PVPTab:Section({
    Title = "PVP Options",
    TextSize = 20,
    FontWeight = Enum.FontWeight.SemiBold
}
-- 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á FOV Circle
local player = game.Players.LocalPlayer
local camera = workspace.CurrentCamera
local mouse = player:GetMouse()

local FOV_CIRCLE = Drawing.new("Circle")
FOV_CIRCLE.Visible = false
FOV_CIRCLE.Color = Color3.fromRGB(255, 255, 0)
FOV_CIRCLE.Thickness = 1
FOV_CIRCLE.Radius = 371

-- 2. ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (State)
local Config = {
    ShowFOV = false,
    FOVValue = 371,
    MagicBullet = false,
    AimPart = "Head"
}

-- 3. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
local function getTarget()
    local nearestTarget = nil
    local shortestDistance = Config.FOVValue

    for _, v in pairs(game.Players:GetPlayers()) do
        if v ~= player and v.Character and v.Character:FindFirstChild(Config.AimPart) then
            local pos, onScreen = camera:WorldToViewportPoint(v.Character[Config.AimPart].Position)
            if onScreen then
                local distance = (Vector2.new(pos.X, pos.Y) - Vector2.new(mouse.X, mouse.Y + 36)).Magnitude
                if distance < shortestDistance then
                    nearestTarget = v.Character[Config.AimPart]
                    shortestDistance = distance
                end
            end
        end
    end
    return nearestTarget
end

-- 4. ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö UI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (Exe fps ez Hub)
-- ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ä‡∏∑‡πà‡∏≠‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ (AddToggle, AddSlider) ‡∏≠‡∏≤‡∏à‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏° Lib ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ
local Tab = -- ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤ PVP Options ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

Tab:AddToggle({
    Name = "Show FOV",
    Default = false,
    Callback = function(Value)
        Config.ShowFOV = Value
        FOV_CIRCLE.Visible = Value
    end
})

Tab:AddSlider({
    Name = "FOV Size",
    Min = 0,
    Max = 800,
    Default = 371,
    Callback = function(Value)
        Config.FOVValue = Value
        FOV_CIRCLE.Radius = Value
    end
})

Tab:AddToggle({
    Name = "Magic Bullet",
    Default = false,
    Callback = function(Value)
        Config.MagicBullet = Value
    end
})

-- 5. ‡∏£‡∏∞‡∏ö‡∏ö Loop ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ß‡∏á‡∏Å‡∏•‡∏°
game:GetService("RunService").RenderStepped:Connect(function()
    if Config.ShowFOV then
        FOV_CIRCLE.Position = Vector2.new(mouse.X, mouse.Y + 36)
    end
end)
-- -----------------------------

-- -----------------------------
local ESPTab = ElementsSection:Tab({
    Title = "ESP",
    Icon = nil
})

ESPTab:Section({
    Title = "ESP Options",
    TextSize = 20,
    FontWeight = Enum.FontWeight.SemiBold
})

-- -----------------------------

-- -----------------------------
local LootTab = ElementsSection:Tab({
    Title = "‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏≠‡∏á üéÅ",
    Icon = nil
})

LootTab:Section({
    Title = "Loot Options",
    TextSize = 20,
    FontWeight = Enum.FontWeight.SemiBold
})

-- -----------------------------

-- -----------------------------
local BodyTab = ElementsSection:Tab({
    Title = "‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ üí™",
    Icon = nil
})

BodyTab:Section({
    Title = "Body Options",
    TextSize = 20,
    FontWeight = Enum.FontWeight.SemiBold
})
